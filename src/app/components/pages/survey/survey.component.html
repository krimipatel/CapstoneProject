<app-main-nav></app-main-nav>


<div class="container">
  <section *ngFor="let ques of questions">

    <div class="card" *ngIf="ques==questions[increment]">
      <!-- Progress Bar Started-->
      <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="70"
          aria-valuemin="0" aria-valuemax="100" [style.width]="((increment+1)/questions.length)*100 + '%'">
          <span *ngIf="((increment+1)/questions.length)*100>70 && ((increment+1)/questions.length)*100!=100">Almost
            Done</span>
          <span *ngIf="((increment+1)/questions.length)*100==100">Done, Thanks</span>
        </div>
      </div>
      <!-- Progress Bar Ended-->
      <div class="content">

        <p class="title">Community Survey</p> <br><br>
        <div>
          <form [formGroup]="comSurveyForm">
            <!-- Question-->
            <label>{{ques.question}}</label> <br><br>

            <!-- for input type number-->
            <input *ngIf="ques.type=='number'" formControlName="iNumber" type="number">

            <!-- for input type yes no-->
            <div *ngIf="ques.type=='yesNo'">
              <div class="form-check">
                <input class="form-check-input" value="Yes" type="radio" formControlName="iYesNo">
                <label class="form-check-label" for="flexRadioDefault1">
                  Yes
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" value="No" formControlName="iYesNo">
                <label class="form-check-label" for="flexRadioDefault2">
                  No
                </label>
              </div>
            </div>
          </form>

        </div>
        <small class="text-danger" *ngIf="message!=''">{{message}}</small>

      </div>
      <!-- Card Footer-->
      <div class="card-footer">
        <button *ngIf="increment<=questions.length-1 && increment>0" (click)="decrease(ques.question_id-1)" class="pre-btn"><svg
            xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-arrow-left-circle" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z" />
          </svg> Previous</button>
        <button *ngIf="increment<=questions.length-2" (click)="increase(ques.question_id)" class="next-btn">Next <svg
            xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-arrow-right-circle" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z" />
          </svg></button>
        <button *ngIf="increment==questions.length-1" (click)="submitSurvey(ques.question_id)" class="submit">Submit </button>
      </div>

    </div>


  </section>
  <button (click)="close()" class="btnclose">close</button>

</div>


<app-fixed-footer></app-fixed-footer>
